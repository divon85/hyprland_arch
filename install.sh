#!/usr/bin/env sh

# ----------------------------------------------------- 
# Include files and set variables
# ----------------------------------------------------- 
version=$(cat dotfiles/.version/name)
install_directory=$(pwd)
source install/includes/colors.sh
source install/includes/library.sh
clear

# ----------------------------------------------------- 
# Set installation mode
# ----------------------------------------------------- 
source install/installmode.sh

# ----------------------------------------------------- 
# Load header
# ----------------------------------------------------- 
source install/header.sh

# ----------------------------------------------------- 
# Check for required packages
# ----------------------------------------------------- 
source install/required.sh

# ----------------------------------------------------- 
# Confirm the start of the installation
# ----------------------------------------------------- 
source install/confirm_start.sh

# ----------------------------------------------------- 
# Activate parallel downloads
# ----------------------------------------------------- 
source install/paralleldownloads.sh

# ----------------------------------------------------- 
# Install yay
# ----------------------------------------------------- 
source install/yay.sh

# ----------------------------------------------------- 
# Update the system
# ----------------------------------------------------- 
source install/updatesystem.sh

# ----------------------------------------------------- 
# Backup files
# ----------------------------------------------------- 
source install/backup.sh

# ----------------------------------------------------- 
# Prepare files for the installation
# ----------------------------------------------------- 
source install/preparation.sh

# ----------------------------------------------------- 
# Decide on installation method
# ----------------------------------------------------- 
source install/installer.sh

# ----------------------------------------------------- 
# Remove not required packages
# ----------------------------------------------------- 
source install/remove.sh

# ----------------------------------------------------- 
# Install general packages
# ----------------------------------------------------- 
source install/general.sh

# ----------------------------------------------------- 
# Install profile
# ----------------------------------------------------- 
source install/profile.sh

# ----------------------------------------------------- 
# Install flatpak
# ----------------------------------------------------- 
source install/flatpak.sh

# ----------------------------------------------------- 
# Install wallpapers
# ----------------------------------------------------- 
source install/wallpaper.sh

# ----------------------------------------------------- 
# Install Display Manager
# ----------------------------------------------------- 
source install/displaymanager.sh

# ----------------------------------------------------- 
# Install tty issue
# ----------------------------------------------------- 
source install/issue.sh

# ----------------------------------------------------- 
# Copy files to target directory
# ----------------------------------------------------- 
source install/copy.sh

# ----------------------------------------------------- 
# Initialize pywal color scheme
# ----------------------------------------------------- 
source install/init-pywal.sh

# ----------------------------------------------------- 
# Check installation of GTK Themes
# ----------------------------------------------------- 
source install/gtk.sh

# ----------------------------------------------------- 
# Final cleanup
# ----------------------------------------------------- 
source install/cleanup.sh

# ----------------------------------------------------- 
# Offer Reboot
# ----------------------------------------------------- 
source install/reboot.sh